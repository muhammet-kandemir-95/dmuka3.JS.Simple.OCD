<html>

<head>
	<title>dmuka3.JS.Simple.OCD</title>

	<link rel="stylesheet" href="../assets/css/example.css">
</head>

<body>
	<style>
		#app input {
			width: 100%;
			margin-bottom: 5px;
		}
	</style>
	<div id="app">
		<div>
			<input ocd-clone type="text">
		</div>
		<button class="add-row">Add Row</button>
		<button class="remove-last-row">Remove Last Row</button>
	</div>

	<script src="../js/dmuka3.JS.Simple.OCD.min.js"></script>
	<script>
		var $app = $d.ocd({
			query: '#app',
			sub: [{
				alias: 'inputs',
				parentQuery: '>div',
				query: '>input',
				on: {
					$init: function () {
						this.value = new Date().toString();
					},
					$remove: function () {
						alert('Removed : ' + this.value);
					}
				}
			}, {
				alias: 'addRow',
				single: true,
				query: '>.add-row',
				on: {
					click: function (e) {
						this.$parent.inputs.$add();
					}
				}
			}, {
				alias: 'removeLastRow',
				single: true,
				query: '>.remove-last-row',
				on: {
					click: function (e) {
						if (this.$parent.inputs.length > 0) {
							this.$parent.inputs[this.$parent.inputs.length - 1].$remove();
						}
					}
				}
			}]
		});
	</script>
</body>

</html>